<Project >

	<!--fix razor file build namespace -->
	<Target Name="UpdateTargetPath" BeforeTargets="AssignRazorGenerateTargetPaths">
		<ItemGroup>
			<RazorGenerate Include="@(RazorGenerate)" Link="$(TargetName)\%(RazorGenerate.RelativeDir)%(RazorGenerate.FileName)%(RazorGenerate.Extension)" />
		</ItemGroup>
	</Target>

	<!--copy build output to plugins directory-->
	<Target Name="CopyArtifacts" AfterTargets="Build">
		<PropertyGroup>
			<PluginCopyDir>$(SolutionDir)Passingwind.Blog.Web\Plugins\$(ProjectName)\</PluginCopyDir>
		</PropertyGroup>

		<ItemGroup>
			<FilesToCopy Include="$(OutputPath)\**\*" />
		</ItemGroup>

		<MakeDir Directories="$(PluginCopyDir)" Condition="!Exists('$(PluginCopyDir)')" />
		<Copy SourceFiles="@(FilesToCopy)" DestinationFiles="$(PluginCopyDir)%(RecursiveDir)%(FileName)%(Extension)" />
	</Target>
</Project>
